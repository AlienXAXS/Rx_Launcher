<?xml version="1.0" encoding="UTF-8"?>
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  
	<Product Id="*" 
           Name="Renegade X"
           Language="1033" 
           Version="0.5.6.0"
           Manufacturer="Totem Arts" 
           UpgradeCode="7491f5a4-2fd2-4190-9bb6-f65caea89da5">
           
    
    <Package InstallerVersion="200" 
             Compressed="yes" 
             InstallScope="perMachine" 
             Manufacturer="Totem Arts"/>

		<MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />
		<MediaTemplate EmbedCab="yes" />

		<Feature Id="ProductFeature" Title="Renegade X" Level="1">
			<ComponentGroupRef Id="ProductComponents" />
      <ComponentGroupRef Id="PreviewVidComponents" />    
		</Feature>
    <UI>
       <Property Id="WIXUI_INSTALLDIR" Value="INSTALLFOLDER" />
      <UIRef Id="WixUI_InstallDir"/>
    </UI>

    <WixVariable Id="WixUIDialogBmp" Value="SetupImages\Dialog.bmp" />
    <WixVariable Id="WixUIBannerBmp" Value="SetupImages\Dialog2.bmp" />
  
    <Icon Id="Icon" SourceFile="Launcher/Icon_Silver.ico"/>
    <Property Id="ARPPRODUCTICON" Value="Icon" />
  </Product>
  
  

  <Fragment>
    
    <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="ProgramFilesFolder">
        <Directory Id="INSTALLFOLDER" Name="RenegadeXTest">
          <Directory Id="InstallLocationLauncher" Name="Launcher">
            <Directory Id="InstallLocationPreviewVids" Name="PreviewVids"/>
          </Directory>
          <Directory Id="InstallLocationEngine" Name="Engine"/>
          <Directory Id="InstallLocationUDKGame" Name="UDKGame"/>
          <Directory Id="InstallLocationBinaries" Name="Binaries"/>	      
        </Directory>
      </Directory>
    </Directory>
  </Fragment>

	<Fragment>
		<ComponentGroup Id="ProductComponents" Directory="InstallLocationLauncher">
			<!-- TODO: Remove the comments around this Component element and the ComponentRef below in order to add resources to this installer. -->
			 <Component Id="ProductComponent" Guid="698A84A3-22B2-4995-9A46-C8CE5F271C0F"> 
				<!-- TODO: Insert files, registry keys, and other resources here. -->

         <File Id="LauncherEXE" Name="Renegade X Launcher.exe" Source="Launcher/Renegade X Launcher.exe" DiskId='1' Vital="yes" >
           <Shortcut Id='LauncherStartmenu' Directory='ProgramFilesFolder' Name='Renegade X Launcher' Advertise='no' />
         </File>

         <File Id="FirstFLoorDLL" Name="FirstFloor.ModernUI.dll" Source="Launcher/FirstFloor.ModernUI.dll" DiskId='1' Vital="yes"/>
         <File Id="NewtonsoftJsonDLL" Name="Newtonsoft.Json.dll" Source="Launcher/Newtonsoft.Json.dll" DiskId='1' Vital="yes"/>
         <File Id="LauncherconfigCONFIG" Name="Renegade X Launcher.exe.config" Source="Launcher/Renegade X Launcher.exe.config" DiskId='1' Vital="yes"/>
         <File Id="RXPatchLibDLL" Name="RXPatchLib.dll" Source="Launcher/RXPatchLib.dll" DiskId='1' Vital="yes"/>
         <File Id="SteamAPIDLL" Name="SteamAPI.dll" Source="Launcher/SteamAPI.dll" DiskId='1' Vital="yes"/>
         <File Id="CustomContentSeekerDLL" Name="CustomContentSeeker.dll" Source="Launcher/CustomContentSeeker.dll" DiskId='1' Vital="yes"/>
         <File Id="XceedWpfDatagridDLL" Name="Xceed.Wpf.DataGrid.dll" Source="Launcher/Xceed.Wpf.DataGrid.dll" DiskId='1' Vital="yes"/>
         <File Id="XceedWpfToolkitDLL" Name="Xceed.Wpf.Toolkit.dll" Source="Launcher/Xceed.Wpf.Toolkit.dll" DiskId='1' Vital="yes"/>
         <File Id="xdelta32EXE" Name="xdelta3-3.0.8.x86-32.exe" Source="Launcher/xdelta3-3.0.8.x86-32.exe" DiskId='1' Vital="yes"/>
         <File Id="xdelta64EXE" Name="xdelta3-3.0.8.x86-64.exe" Source="Launcher/xdelta3-3.0.8.x86-64.exe" DiskId='1' Vital="yes"/>
        
         <CreateFolder Directory="InstallLocationEngine"/>
         <CreateFolder Directory="InstallLocationUDKGame"/>
         <CreateFolder Directory="InstallLocationBinaries"/>
       </Component> 
      </ComponentGroup>
    </Fragment>
  
    <Fragment>  
      <ComponentGroup Id="PreviewVidComponents" Directory="InstallLocationPreviewVids">
        <Component Id ="PreviewVidComponent" Guid="A17D90D7-27F7-4784-919A-B39FE6871696">
            <File Id="filDE5FF965729966CA817755E989A336AC"  Source="Launcher/PreviewVids/CNC-Canyon_day.wmv" />
            <File Id="filB8F2D3D0A25E74B7FF1EE53DDF9C1489"  Source="Launcher/PreviewVids/CNC-Canyon_Night.wmv" />
            <File Id="filB4B9BC9B120DF2E7BCC2262D749709E3"  Source="Launcher/PreviewVids/CNC-Eyes.wmv" />
            <File Id="fil4357957792A39EB9F9A2DF501CF67119"  Source="Launcher/PreviewVids/CNC-Field_Night.wmv" />
            <File Id="fil60E31EE406BFD517C8432B59EE7659F8"  Source="Launcher/PreviewVids/CNC-Mesa_ii_Day.wmv" />
            <File Id="filC7889386BDC36B2F963343E774C7118F"  Source="Launcher/PreviewVids/CNC-TrainingYard.wmv" />
            <File Id="filAB04BBFF815B9A768D19FF26F8D4F6B5"  Source="Launcher/PreviewVids/Complex.wmv" />
            <File Id="fil0024C1A4C14CF1E978C34541C36090E0"  Source="Launcher/PreviewVids/Default.wmv" />
            <File Id="fil37C91FFAA84EEA48A06F68B2A7011FB2"  Source="Launcher/PreviewVids/Field-Day.wmv" />
            <File Id="fil3A9B20E4BDB01F0E4CF8F8098B1E0A0A"  Source="Launcher/PreviewVids/Goldrush.wmv" />
            <File Id="fil62D49C9D810867164F3385EF451B8259"  Source="Launcher/PreviewVids/Islands.wmv" />
            <File Id="fil37DD48CBFD5D708ABF3BAD435A46B594"  Source="Launcher/PreviewVids/Lakeside.wmv" />
            <File Id="filDC03B708F18285330C05C3DB8692B271"  Source="Launcher/PreviewVids/MesaII.wmv" />
            <File Id="fil5C12BB44094BE1458C685CFEF4EA0CB1"  Source="Launcher/PreviewVids/Under.wmv" />
            <File Id="fil10089D54447CF18EF4E9259133E01BCA"  Source="Launcher/PreviewVids/Volcano.wmv" />
            <File Id="fil5C8F49521A37E3E72C3E4D9D4FE65B30"  Source="Launcher/PreviewVids/Walls.wmv" />
            <File Id="fil051C5FF0DD8F39443058F1B939C51977"  Source="Launcher/PreviewVids/Whiteout.wmv" />
            <File Id="fil5FF21BCF13EECD0EED9DEEF0067F00FA"  Source="Launcher/PreviewVids/X-Mountain.wmv" />
        </Component>  
		  </ComponentGroup>
	</Fragment>
</Wix>